<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>list</title>
</head>
<body>
<!--
1. 列表显示
  数组: v-for / index
  对象: v-for / key
2. 列表的更新显示
  删除item
  替换item
-->
<div id="demo">
    <h2>v-for遍历数组/List</h2>
    <ul>
        <!-- 这里Key是唯一的,类似于数据库中的主键 -->
        <li v-for="stu in items" :key="stu.id">
            {{stu.id}}--{{stu.name}}
            <button @click="deleteP(index)">删除</button>
            <button @click="updateP(index)">更新</button>
        </li>
    </ul>
    <button @click="addP()">添加</button>

</div>
</body>
<script type="text/javascript" src="public/vue.js"></script>
<script type="text/javascript" src="public/axios.min.js"></script>
<script>
    let vm=new Vue({
        el: "#demo",
        data: {
            items:{

            }
        },
        methods:{
            deleteP(index){
                // this.persons.splice(index, 1);
            },
            updateP(index){
                // this.persons[index].name=this.persons[index].name+"1";
            },
            addP(){
                this.$nextTick(function () {
                    var self = this;
                    axios.get('/stu/getAllStu')
                        .then(function(res){
                            self.items = res.data
                        })
                        .catch(function(err){
                            console.log(err);
                        })
                });
            }
        }
    });

</script>
</html>